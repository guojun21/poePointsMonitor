# 快速开始指南

## 🚀 一分钟启动

```bash
cd /Users/ruicheng.gu/Documents/project/SLS/slspersonaldocs/07_tools/poePointsMonitor
./start.sh
```

启动后，浏览器会自动打开 http://localhost:5174

## 📋 获取配置信息（重要）

### 步骤 1: 打开 Poe 积分历史页面

在浏览器中访问：https://poe.com/points_history

### 步骤 2: 打开开发者工具

- **Chrome/Edge**: 按 `F12` 或 `Cmd+Option+I` (Mac)
- **Firefox**: 按 `F12`
- **Safari**: 先在设置中启用开发者菜单，然后按 `Cmd+Option+I`

### 步骤 3: 查找网络请求

1. 切换到 **Network** 标签
2. 刷新页面 (F5)
3. 在请求列表中找到名为 `gql_POST` 的请求
4. 点击该请求

### 步骤 4: 复制配置信息

在 **Request Headers** 部分找到并复制以下信息：

#### 必填项：

1. **cookie**
   - 找到 `cookie:` 这一行
   - 复制整行的值（通常很长）
   - 示例：`p-b=Pjxkwn7YuCTZNqrUVyW6yA%3D%3D; g_state=...`

2. **poe-formkey**
   - 找到 `poe-formkey:` 这一行
   - 复制值
   - 示例：`7d90e4070b0c6350901db420668d6a26`

3. **poe-tchannel**
   - 找到 `poe-tchannel:` 这一行
   - 复制值
   - 示例：`poe-chan110-8888-npwpozikgkiyllvlxmcu`

#### 可选项（已有默认值）：

4. **poe-revision**
   - 默认值已填充，通常不需要修改

5. **poe-tag-id**
   - 默认值已填充，通常不需要修改

## ✅ 使用流程

### 第一步：填写配置

在左侧的"配置信息"卡片中，填入刚才获取的信息：

```
Cookie: [粘贴完整的 Cookie]
Form Key: [粘贴 poe-formkey 的值]
TChannel: [粘贴 poe-tchannel 的值]
Revision: [保持默认]
Tag ID: [保持默认]
```

### 第二步：拉取数据

1. 点击"🚀 开始拉取数据"按钮
2. 系统会自动从 Poe API 拉取历史数据
3. 遇到已存在的记录会自动停止
4. 每次翻页间隔 1 秒（避免请求过快）

### 第三步：查看图表

拉取完成后，右侧会显示：

1. **总体统计卡片**
   - 总积分消耗
   - 总记录数
   - 平均每次消耗

2. **机器人统计卡片**
   - 各个机器人的使用排行
   - Top 5 最常用的机器人

3. **积分消耗趋势图**
   - 可切换时间粒度：分钟/小时/半天/全天
   - 可切换图表类型：分立/累积

## 📊 图表说明

### 时间粒度

- **分钟**: 每分钟的消耗（适合查看短期详细数据）
- **小时**: 每小时的消耗（适合查看日内趋势）
- **半天**: 上午/下午的消耗（适合查看日间对比）
- **全天**: 每天的消耗（适合查看长期趋势）

### 图表类型

- **分立**: 显示每个时间段的独立消耗值
  - 适合分析波动和峰值
  - 双 Y 轴：左侧显示积分消耗，右侧显示记录数

- **累积**: 显示从开始到当前的累计总消耗
  - 适合查看总体增长趋势
  - 面积图展示，更直观

## 🔄 定期更新数据

建议每天或定期运行一次数据拉取：

1. 重新获取最新的 Cookie 等配置（它们会过期）
2. 点击"开始拉取数据"
3. 系统会自动只拉取新增的数据

## ⚠️ 常见问题

### Q: 提示"拉取数据失败"？
A: 检查以下几点：
- Cookie 是否已过期（重新登录 Poe 并获取新的）
- poe-formkey 和 poe-tchannel 是否正确
- 网络连接是否正常

### Q: 图表显示"暂无数据"？
A: 先点击"开始拉取数据"按钮获取数据

### Q: 拉取速度慢？
A: 这是正常的，为了避免被限流，每次翻页间隔 1 秒

### Q: 如何清空数据重新开始？
A: 删除数据库文件：
```bash
rm ~/Library/Application\ Support/PoePointsMonitor/points.db
```

## 📁 数据存储位置

```
~/Library/Application Support/PoePointsMonitor/
└── points.db  # SQLite 数据库
```

## 🛑 停止服务

在启动脚本的终端窗口中按 `Ctrl+C` 即可停止所有服务。

## 💡 提示

- Cookie 有效期通常为几天到几周，过期后需要重新获取
- 建议定期拉取数据以保持最新状态
- 数据库文件可以备份，便于在不同设备间迁移

## 🎉 享受使用！

现在你可以清晰地了解你在 Poe 上的积分消耗情况了！

